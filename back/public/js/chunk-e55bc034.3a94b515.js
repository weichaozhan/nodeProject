(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e55bc034"],{4866:function(t,e,o){},b9ed:function(t,e,o){"use strict";o.r(e);var a=o("efa4"),i=o("bdba"),n={data:function(){return{form:{docName:"",phone:"",docId:""},page:1,limit:10,totalCount:0,listArgs:{},tableData:[],loadingTable:!1}},props:{freeClinicMsg:{required:!0,type:Object}},methods:{getDoctorList:function(){var t=this,e=Object(a.a)({},this.listArgs);e.page=this.page,e.limit=this.limit,this.loadingTable=!0,Object(i.c)(e).then(function(e){var o=e.data;t.tableData=o.data.data,t.totalCount=o.data.totalCount,t.loadingTable=!1}).catch(function(e){t.loadingTable=!1})},filtDoctorList:function(){this.page=1,this.listArgs=Object(a.a)({},this.form),this.getDoctorList()},resetDoctorList:function(){this.$refs.form.resetFields(),this.filtDoctorList()},handleCurrentChange:function(t){this.form.page=t,this.getDoctorList()},addDoctorToFreeClinic:function(t){var e=this;this.$confirm("确认添加 <b>".concat(t.docName,"</b> 到 <b>").concat(this.freeClinicMsg.date,"</b> 的义诊中吗？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then(function(){Object(i.a)({dId:t.docId,date:e.freeClinicMsg.date}).then(function(t){var o=t.data,a=1e3===o.code;a&&(e.getDoctorList(),e.$emit("refresh-list")),e.$message({type:a?"success":"error",message:a?"添加成功！":o.msg}),e.loadingAdd=!1}).catch(function(t){e.loadingAdd=!1})}).catch(function(){})}},mounted:function(){}},r=(o("ddf7"),o("048f")),l=Object(r.a)(n,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("section",{staticClass:"filter"},[o("el-form",{ref:"form",attrs:{"label-width":"90px",model:t.form,inline:""}},[o("el-form-item",{attrs:{prop:"docName",label:"医生姓名"}},[o("el-input",{model:{value:t.form.docName,callback:function(e){t.$set(t.form,"docName",e)},expression:"form.docName"}})],1),o("el-form-item",{attrs:{prop:"phone",label:"医生手机号"}},[o("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),o("el-form-item",{attrs:{prop:"docId",label:"医生 Uid"}},[o("el-input",{model:{value:t.form.docId,callback:function(e){t.$set(t.form,"docId",e)},expression:"form.docId"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.filtDoctorList}},[t._v("查询")]),o("el-button",{on:{click:t.resetDoctorList}},[t._v("重置")])],1)],1)],1),o("section",{staticClass:"doctor-list mt30"},[o("h3",{staticClass:"mb30"},[t._v("查询结果：")]),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","show-header":!1,"max-height":"500"}},[o("el-table-column",{attrs:{prop:"docName",fixed:"","min-width":"100"}}),o("el-table-column",{attrs:{prop:"phone","min-width":"100"}}),o("el-table-column",{attrs:{prop:"hospitalName","min-width":"100"}}),o("el-table-column",{attrs:{"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.firstLevelDepartmentName)+"--"+t._s(e.row.secondLevelDepartmentName)+"\n                ")]}}])}),o("el-table-column",{attrs:{fixed:"right",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){t.addDoctorToFreeClinic(e.row)}}},[t._v("添加")])]}}])})],1),o("el-pagination",{staticClass:"mt20",attrs:{"current-page":t.page,"page-size":t.limit,layout:"prev, pager, next, jumper",total:t.totalCount},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}})],1)])},[],!1,null,"012bcc44",null);l.options.__file="FormAddDoctor.vue";e.default=l.exports},ddf7:function(t,e,o){"use strict";var a=o("4866");o.n(a).a}}]);