(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-72d667f9"],{"0a3a":function(e,t,n){},4088:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c});var a="http://819operationapi.j7w5.net",i=[{id:1,name:"审核管理",icon:"el-icon-message",children:[{id:11,name:"医生审核管理",icon:"el-icon-news",path:"/reviewDoctorManage"},{id:12,name:"医院审核管理",icon:"el-icon-date",path:"/reviewHospitalManage"},{id:13,name:"医生签名审核管理",icon:"el-icon-bell",path:"/reviewSignatureManage"}]},{id:2,name:"用户管理",icon:"el-icon-time",children:[{id:21,name:"医生用户管理",icon:"el-icon-service",path:"/doctorUserManage"},{id:22,name:"患者用户管理",icon:"el-icon-view",path:"/patientUserManage"}]},{id:3,name:"数据管理",icon:"el-icon-printer",children:[{id:31,name:"资讯管理",icon:"el-icon-news",path:"/informationManage"},{id:32,name:"儿童疫苗管理",icon:"el-icon-news",path:"/childrenVaccine"},{id:33,name:"行为标签管理",icon:"el-icon-tickets",path:"/labelPage"},{id:34,name:"接诊设置管理",icon:"el-icon-time",path:"/doctorPrice"},{id:35,name:"科室数据管理",icon:"el-icon-news",path:"/contentManage"},{id:36,name:"义诊管理",icon:"el-icon-date",path:"/freeClinicManage"}]},{id:4,name:"医生社区管理",icon:"el-icon-view",children:[{id:41,name:"话题管理",icon:"el-icon-star-on",path:"/topicManage"},{id:42,name:"小组管理",icon:"el-icon-picture-outline",path:"/groupManage"},{id:43,name:"动态管理",icon:"el-icon-news",path:"/trendManage"},{id:44,name:"举报管理",icon:"el-icon-time",path:"/reportManage"},{id:45,name:"敏感词管理",icon:"el-icon-sold-out",path:"/sensitiveWord"}]},{id:5,name:"财务管理",icon:"el-icon-star-off",children:[{id:51,name:"用户交易管理",icon:"el-icon-refresh",path:"/accountUserDeal"},{id:52,name:"结算管理",icon:"el-icon-edit-outline",path:"/accountSettleManage"},{id:53,name:"退款审核管理",icon:"el-icon-bell",path:"/refundReviewManage"}]},{id:6,name:"系统管理",icon:"el-icon-location",children:[{id:61,name:"账号管理",icon:"el-icon-news",path:"/userAdmin"},{id:62,name:"协议管理",icon:"el-icon-news",path:"/agreementManage"},{id:63,name:"科室数据展示",icon:"el-icon-star-off",path:"/departmentDataDisplay"},{id:64,name:"APP审核管理",icon:"el-icon-star-on",path:"/appReviewManage"}]}],o={1:"支持/反对",2:"正确/错误",3:"喜欢/不喜欢"},c={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"}},"4c5b":function(e,t,n){"use strict";n.d(t,"g",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"i",function(){return r}),n.d(t,"c",function(){return d}),n.d(t,"j",function(){return l}),n.d(t,"h",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"k",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"f",function(){return m});var a=n("5bf4"),i=(n("4088"),function(e){return Object(a.a)({url:"/content/firstDepartment",method:"get",params:e})}),o=function(e){return Object(a.a)({url:"/content/firstDepartment/del/"+e,method:"DELETE"})},c=function(e){return Object(a.a)({url:"/content/firstDepartment/create",method:"post",data:e},!0)},r=function(e){return Object(a.a)({url:"/content/firstDepartment/detail/"+e,method:"get"})},d=function(e,t){return Object(a.a)({url:"/content/firstDepartment/modify/"+e,method:"post",data:t},!0)},l=function(e){return Object(a.a)({url:"/content/secondDepartment",method:"get",params:e})},s=function(e){return Object(a.a)({url:"/content/firstDepartment/select",method:"get",params:e})},u=function(e){return Object(a.a)({url:"/content/secondDepartment/create",method:"post",data:e})},p=function(e){return Object(a.a)({url:"/content/secondDepartment/detail/"+e,method:"get"})},h=function(e,t){return Object(a.a)({url:"/content/secondDepartment/modify/"+e,method:"post",data:t},!0)},m=function(e){return Object(a.a)({url:"/content/secondDepartment/del/"+e,method:"DELETE"})}},"5bf4":function(e,t,n){"use strict";n("20a2"),n("5a09");var a=n("efa4"),i=n("7f43"),o=n.n(i),c=n("0e4f"),r=n.n(c),d=n("329b"),l=n("a18c"),s=n("4587"),u=n("4088");d.default.prototype.$message=s.Message;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};n.Authorization="".concat(localStorage.getItem("token")),t||(n["Content-Type"]="application/json"),e.headers&&(n=Object(a.a)({},n,e.headers));var i=null;return i="[object FormData]"!==Object.prototype.toString.call(e.data)?n["Content-Type"]&&"application/x-www-form-urlencoded"!==n["Content-Type"]?e.data||"":r.a.stringify(e.data):e.data,new Promise(function(t,a){o()(Object.assign({},e,{baseURL:u.a,url:e.url,method:e.method||"get",headers:n,data:i,params:e.params||"",timeout:e.timeout||0})).then(function(e){1002===e.data.code?(d.default.prototype.$message({type:"error",message:"登录信息过期！请重新登录"}),a("登录信息过期！请重新登录"),l.a.push("/login")):t(e)}).catch(function(e){console.log(e),a(e)})})}},"64c3":function(e,t,n){"use strict";var a=n("0a3a");n.n(a).a},dd9f:function(e,t,n){"use strict";n.r(t);var a=n("efa4"),i=n("4c5b"),o={name:"",data:function(){return{form:{limit:10,page:1,filters:""},tableData:[],totalCount:0,tableLoading:!1,modalAddDepShow:!1,isEdit:!1,depId:0,secondDepShow:!1}},components:{AddDepModal:function(){return Promise.all([n.e("base"),n.e("chunk-7ef2a2c6")]).then(n.bind(null,"65ea"))},SecondIndex:function(){return n.e("chunk-214db962").then(n.bind(null,"1b8e"))}},methods:{getFirstDepList:function(){var e=this,t=Object(a.a)({},this.form);this.tableLoading=!0,Object(i.g)(t).then(function(t){var n=t.data.data;e.totalCount=n.totalCount,e.tableData=n.data,e.tableLoading=!1}).catch(function(t){e.tableLoading=!1})},handleSizeChange:function(e){this.form.limit=e,this.getFirstDepList()},handleCurrentChange:function(e){this.form.page=e,this.getFirstDepList()},handleAddDep:function(){this.depId=0,this.isEdit=!1,this.modalAddDepShow=!0},handleCheck:function(e,t){this.depId=t.id,this.modalAddDepShow=!0,this.isEdit=!0},handleDel:function(e,t){var n=this,a=t.id;Object(i.e)(a).then(function(e){var t=e.data,a="success";1e3===t.code?n.getFirstDepList():a="error",n.$message({type:a,message:"success"===a?"删除成功！":t.msg})})},handleSecondDepShow:function(){this.secondDepShow=!0}},created:function(){this.getFirstDepList()}},c=(n("64c3"),n("048f")),r=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header"},[n("p",[e._v("一级科室列表")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSecondDepShow}},[e._v("二级科室管理")])],1),n("div",{staticClass:"table_body"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",size:"medium "}},[n("el-table-column",{attrs:{prop:"departmentName",label:"名称","min-width":"180"}}),n("el-table-column",{attrs:{prop:"peopleNum",label:"拥有人数","min-width":"180"}}),n("el-table-column",{attrs:{prop:"subordinateDepartment",label:"下属科室","min-width":"300"}}),n("el-table-column",{attrs:{label:"操作","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){e.handleCheck(t.$index,t.row)}}},[e._v("修改")]),t.row.subordinateDepartment.length>0?n("el-button",{attrs:{disabled:"",size:"mini",type:"danger",plain:""}},[e._v("删除")]):n("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(n){e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),n("div",{staticClass:"table-footer--APP",attrs:{slot:"append"},slot:"append"},[n("el-pagination",{attrs:{"current-page":e.form.page,"page-sizes":[10,20,30,40,50,60,70,80,90],"page-size":e.form.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("div",[n("el-button",{staticClass:"addDep",attrs:{type:"primary"},on:{click:e.handleAddDep}},[e._v("新增科室")])],1)],1),n("div",[n("el-dialog",{attrs:{title:this.isEdit?"修改科室":"新增科室","append-to-body":!0,visible:e.modalAddDepShow,width:"40%"},on:{"update:visible":function(t){e.modalAddDepShow=t}}},[e.modalAddDepShow?n("add-dep-modal",{attrs:{"dep-id":e.depId},on:{"finish-action":e.getFirstDepList,"close-form":function(t){e.modalAddDepShow=!1}}}):e._e()],1),n("el-dialog",{attrs:{title:"二级科室管理","append-to-body":!0,visible:e.secondDepShow,width:"90%"},on:{"update:visible":function(t){e.secondDepShow=t}}},[e.secondDepShow?n("second-index",{on:{"close-form":function(t){e.secondDepShow=!1}}}):e._e()],1)],1)])},[],!1,null,null,null);r.options.__file="Index.vue";t.default=r.exports}}]);