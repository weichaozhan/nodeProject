(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-26165810"],{1686:function(e,t,a){"use strict";var n=a("acda");a.n(n).a},4088:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return o});var n="http://819operationapi.j7w5.net",i=[{id:1,name:"审核管理",icon:"el-icon-message",children:[{id:11,name:"医生审核管理",icon:"el-icon-news",path:"/reviewDoctorManage"},{id:12,name:"医院审核管理",icon:"el-icon-date",path:"/reviewHospitalManage"},{id:13,name:"医生签名审核管理",icon:"el-icon-bell",path:"/reviewSignatureManage"}]},{id:2,name:"用户管理",icon:"el-icon-time",children:[{id:21,name:"医生用户管理",icon:"el-icon-service",path:"/doctorUserManage"},{id:22,name:"患者用户管理",icon:"el-icon-view",path:"/patientUserManage"}]},{id:3,name:"数据管理",icon:"el-icon-printer",children:[{id:31,name:"资讯管理",icon:"el-icon-news",path:"/informationManage"},{id:32,name:"儿童疫苗管理",icon:"el-icon-news",path:"/childrenVaccine"},{id:33,name:"行为标签管理",icon:"el-icon-tickets",path:"/labelPage"},{id:34,name:"接诊设置管理",icon:"el-icon-time",path:"/doctorPrice"},{id:35,name:"科室数据管理",icon:"el-icon-news",path:"/contentManage"},{id:36,name:"义诊管理",icon:"el-icon-date",path:"/freeClinicManage"}]},{id:4,name:"医生社区管理",icon:"el-icon-view",children:[{id:41,name:"话题管理",icon:"el-icon-star-on",path:"/topicManage"},{id:42,name:"小组管理",icon:"el-icon-picture-outline",path:"/groupManage"},{id:43,name:"动态管理",icon:"el-icon-news",path:"/trendManage"},{id:44,name:"举报管理",icon:"el-icon-time",path:"/reportManage"},{id:45,name:"敏感词管理",icon:"el-icon-sold-out",path:"/sensitiveWord"}]},{id:5,name:"财务管理",icon:"el-icon-star-off",children:[{id:51,name:"用户交易管理",icon:"el-icon-refresh",path:"/accountUserDeal"},{id:52,name:"结算管理",icon:"el-icon-edit-outline",path:"/accountSettleManage"},{id:53,name:"退款审核管理",icon:"el-icon-bell",path:"/refundReviewManage"}]},{id:6,name:"系统管理",icon:"el-icon-location",children:[{id:61,name:"账号管理",icon:"el-icon-news",path:"/userAdmin"},{id:62,name:"协议管理",icon:"el-icon-news",path:"/agreementManage"},{id:63,name:"科室数据展示",icon:"el-icon-star-off",path:"/departmentDataDisplay"},{id:64,name:"APP审核管理",icon:"el-icon-star-on",path:"/appReviewManage"}]}],s={1:"支持/反对",2:"正确/错误",3:"喜欢/不喜欢"},o={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"}},"40c0":function(e,t,a){"use strict";var n=a("73db");a.n(n).a},"5bf4":function(e,t,a){"use strict";a("20a2"),a("5a09");var n=a("efa4"),i=a("7f43"),s=a.n(i),o=a("0e4f"),r=a.n(o),c=a("329b"),d=a("a18c"),l=a("4587"),f=a("4088");c.default.prototype.$message=l.Message;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};a.Authorization="".concat(localStorage.getItem("token")),t||(a["Content-Type"]="application/json"),e.headers&&(a=Object(n.a)({},a,e.headers));var i=null;return i="[object FormData]"!==Object.prototype.toString.call(e.data)?a["Content-Type"]&&"application/x-www-form-urlencoded"!==a["Content-Type"]?e.data||"":r.a.stringify(e.data):e.data,new Promise(function(t,n){s()(Object.assign({},e,{baseURL:f.a,url:e.url,method:e.method||"get",headers:a,data:i,params:e.params||"",timeout:e.timeout||0})).then(function(e){1002===e.data.code?(c.default.prototype.$message({type:"error",message:"登录信息过期！请重新登录"}),n("登录信息过期！请重新登录"),d.a.push("/login")):t(e)}).catch(function(e){console.log(e),n(e)})})}},"5c37":function(e,t,a){var n={"./af":"414e","./af.js":"414e","./ar":"f47b","./ar-dz":"5da3","./ar-dz.js":"5da3","./ar-kw":"9197","./ar-kw.js":"9197","./ar-ly":"1490","./ar-ly.js":"1490","./ar-ma":"5b78","./ar-ma.js":"5b78","./ar-sa":"c086","./ar-sa.js":"c086","./ar-tn":"5f0d","./ar-tn.js":"5f0d","./ar.js":"f47b","./az":"b515","./az.js":"b515","./be":"76e7","./be.js":"76e7","./bg":"6152","./bg.js":"6152","./bm":"6166","./bm.js":"6166","./bn":"0fc7","./bn.js":"0fc7","./bo":"6d8b","./bo.js":"6d8b","./br":"66e2","./br.js":"66e2","./bs":"25eb","./bs.js":"25eb","./ca":"51da","./ca.js":"51da","./cs":"7fb4","./cs.js":"7fb4","./cv":"5c9c","./cv.js":"5c9c","./cy":"9d33","./cy.js":"9d33","./da":"6aed","./da.js":"6aed","./de":"51ba","./de-at":"20d6","./de-at.js":"20d6","./de-ch":"a1a0","./de-ch.js":"a1a0","./de.js":"51ba","./dv":"5cf0","./dv.js":"5cf0","./el":"c75d","./el.js":"c75d","./en-au":"54ae","./en-au.js":"54ae","./en-ca":"b17c","./en-ca.js":"b17c","./en-gb":"ddb8","./en-gb.js":"ddb8","./en-ie":"fcfe","./en-ie.js":"fcfe","./en-il":"fb92","./en-il.js":"fb92","./en-nz":"8844","./en-nz.js":"8844","./eo":"4991","./eo.js":"4991","./es":"4f02","./es-do":"1f4a","./es-do.js":"1f4a","./es-us":"a711","./es-us.js":"a711","./es.js":"4f02","./et":"ece8","./et.js":"ece8","./eu":"836a","./eu.js":"836a","./fa":"20de","./fa.js":"20de","./fi":"b4e9","./fi.js":"b4e9","./fo":"e4d2","./fo.js":"e4d2","./fr":"c30b","./fr-ca":"394e","./fr-ca.js":"394e","./fr-ch":"0149","./fr-ch.js":"0149","./fr.js":"c30b","./fy":"f76e","./fy.js":"f76e","./gd":"5849","./gd.js":"5849","./gl":"f22b","./gl.js":"f22b","./gom-latn":"16c5","./gom-latn.js":"16c5","./gu":"194d","./gu.js":"194d","./he":"d36f","./he.js":"d36f","./hi":"9c6f","./hi.js":"9c6f","./hr":"0cb3","./hr.js":"0cb3","./hu":"f15f","./hu.js":"f15f","./hy-am":"2123","./hy-am.js":"2123","./id":"34ec","./id.js":"34ec","./is":"7784","./is.js":"7784","./it":"0fbb","./it.js":"0fbb","./ja":"3470","./ja.js":"3470","./jv":"da9a","./jv.js":"da9a","./ka":"4bde","./ka.js":"4bde","./kk":"1bad","./kk.js":"1bad","./km":"6289","./km.js":"6289","./kn":"e5c0","./kn.js":"e5c0","./ko":"eada","./ko.js":"eada","./ky":"f204","./ky.js":"f204","./lb":"fcf6","./lb.js":"fcf6","./lo":"ee17","./lo.js":"ee17","./lt":"508e","./lt.js":"508e","./lv":"5bbe","./lv.js":"5bbe","./me":"5c70","./me.js":"5c70","./mi":"d4a2","./mi.js":"d4a2","./mk":"617d","./mk.js":"617d","./ml":"95db","./ml.js":"95db","./mn":"8636","./mn.js":"8636","./mr":"fd58","./mr.js":"fd58","./ms":"3fe9","./ms-my":"7540","./ms-my.js":"7540","./ms.js":"3fe9","./mt":"c3f6","./mt.js":"c3f6","./my":"2fce","./my.js":"2fce","./nb":"c48e","./nb.js":"c48e","./ne":"efe0","./ne.js":"efe0","./nl":"a99f","./nl-be":"e75d","./nl-be.js":"e75d","./nl.js":"a99f","./nn":"3e6f","./nn.js":"3e6f","./pa-in":"a453","./pa-in.js":"a453","./pl":"1d34","./pl.js":"1d34","./pt":"340b","./pt-br":"d201","./pt-br.js":"d201","./pt.js":"340b","./ro":"7ed8","./ro.js":"7ed8","./ru":"29e5","./ru.js":"29e5","./sd":"4e43","./sd.js":"4e43","./se":"8c6a","./se.js":"8c6a","./si":"8e89","./si.js":"8e89","./sk":"5a30","./sk.js":"5a30","./sl":"0bc1","./sl.js":"0bc1","./sq":"5f82","./sq.js":"5f82","./sr":"b37a","./sr-cyrl":"1771","./sr-cyrl.js":"1771","./sr.js":"b37a","./ss":"f954","./ss.js":"f954","./sv":"8f23","./sv.js":"8f23","./sw":"5a75","./sw.js":"5a75","./ta":"76f5","./ta.js":"76f5","./te":"4ad8","./te.js":"4ad8","./tet":"63e7","./tet.js":"63e7","./tg":"fe85","./tg.js":"fe85","./th":"625e","./th.js":"625e","./tl-ph":"3f6c","./tl-ph.js":"3f6c","./tlh":"81fe","./tlh.js":"81fe","./tr":"e8b2","./tr.js":"e8b2","./tzl":"43a5","./tzl.js":"43a5","./tzm":"ad04","./tzm-latn":"3fd8","./tzm-latn.js":"3fd8","./tzm.js":"ad04","./ug-cn":"4d04","./ug-cn.js":"4d04","./uk":"330e","./uk.js":"330e","./ur":"e7e8","./ur.js":"e7e8","./uz":"17ef","./uz-latn":"0eb0","./uz-latn.js":"0eb0","./uz.js":"17ef","./vi":"84e0","./vi.js":"84e0","./x-pseudo":"86ab","./x-pseudo.js":"86ab","./yo":"3f53","./yo.js":"3f53","./zh-cn":"622a","./zh-cn.js":"622a","./zh-hk":"8fd9","./zh-hk.js":"8fd9","./zh-tw":"e240","./zh-tw.js":"e240"};function i(e){var t=s(e);return a(t)}function s(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="5c37"},"719d":function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"a",function(){return o});var n=a("23d5"),i=a.n(n),s=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Date.parse(e),a=Date.parse(e);1!==new Date(t).getDay();)t-=864e5;for(t=new Date(t);0!==new Date(a).getDay();)a+=864e5;return a=new Date(a),[i()(t).format("YYYY-MM-DD"),i()(a).format("YYYY-MM-DD")]},o=function(e,t){var a,n=[null,null,null,null,null,null,null];return a=e.length>0?s(e[0].date)[0]:2===t?s()[0]:s(new Date(Date.now()+6048e5))[0],n.forEach(function(t,s){var o=e.filter(function(e){return(new Date(e.date).getDay()||7)-1===s});n[s]=o.length>0?o[0]:{id:"",date:i()(a).add(s,"d").format("YYYY-MM-DD"),docList:[]}}),n}},"73db":function(e,t,a){},acda:function(e,t,a){},bdba:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return o}),a.d(t,"e",function(){return r}),a.d(t,"g",function(){return c}),a.d(t,"a",function(){return d}),a.d(t,"f",function(){return l});var n=a("5bf4"),i=function(e){return Object(n.a)({url:"/treatment/getList",method:"get",params:e})},s=function(e){return Object(n.a)({url:"/treatment/doctorList",method:"get",params:e})},o=function(e,t){return Object(n.a)({url:"/treatment/abnormalList/".concat(t),method:"get",params:e})},r=function(e){return Object(n.a)({url:"/treatment/getSettingNum",method:"get",params:e})},c=function(e){return Object(n.a)({url:"/treatment/set",method:"post",data:e})},d=function(e){return Object(n.a)({url:"/treatment/addDoctor",method:"post",data:e})},l=function(e){return Object(n.a)({url:"treatment/delDoctor/".concat(e.id),method:"delete"})}},c40d:function(e,t,a){"use strict";a.r(t);a("25d7"),a("dc2a");var n=a("efa4"),i=a("bdba"),s=a("23d5"),o=a.n(s),r=a("4088"),c=a("719d"),d={name:"",data:function(){var e=this;return{listType:"week",date:[],rules:{startTime:[{validator:function(t,a,n){o()(e.form.endTime).diff(o()(e.form.startTime))+864e5>2592e6?n("时间跨度最多 30 天"):n()},trigger:"blur"}]},pickerOption:{disabledDate:function(e){var t=Date.parse(o()(new Date).format("YYYY-MM-DD"));return e.getTime()>t}},form:{docName:"",phone:"",docId:"",startTime:"",endTime:""},startTime:"",endTime:"",listArgs:{},tableType:2,tableData:[],weekText:r.d,freeClinicSelected:"",doctorSeleted:{},modelSetting:!1,modelAdd:!1,modelEdit:!1,loadingTable:!1}},components:{FormSetting:function(){return a.e("chunk-9cb5e06e").then(a.bind(null,"8899"))},FormAddDoctor:function(){return a.e("chunk-e55bc034").then(a.bind(null,"b9ed"))},FormDoctorEdit:function(){return Promise.all([a.e("base"),a.e("chunk-78c3c267")]).then(a.bind(null,"c572"))}},watch:{tableType:function(){this.getWeeksList()}},methods:{getWeeksList:function(){var e=this,t=Object(n.a)({},this.listArgs);if(2===this.tableType)this.startTime=this.listArgs.startTime,this.endTime=this.listArgs.endTime;else{var a=Object(c.b)(new Date(Date.now()+6048e5));t={docName:"",phone:"",docId:"",startTime:a[0],endTime:a[1]},this.startTime=a[0],this.endTime=a[1],this.listType="week"}this.loadingTable=!0,Object(i.d)(t).then(function(t){var a=t.data;e.tableData="week"===e.listType?Object(c.a)(a.data,e.tableType):a.data,e.loadingTable=!1}).catch(function(t){e.loadingTable=!1})},filterTable:function(e){var t=this;this.listType=e?"week":"filter",this.$refs.filterForm.validate(function(e){if(e){if(t.listArgs=Object(n.a)({},t.form),t.tableType=2,Object.keys(t.form).every(function(e){return!t.form[e]&&0!==t.form[e]})){var a=Object(c.b)(new Date);t.listArgs.startTime=a[0],t.listArgs.endTime=a[1],t.listType="week"}else""===t.form.startTime&&Object.keys(t.form).some(function(e){return t.form[e]})&&(t.listArgs.startTime=o()().subtract(29,"d").format("YYYY-MM-DD"),t.listArgs.endTime=o()().format("YYYY-MM-DD"));t.startTime=t.listArgs.startTime,t.endTime=t.listArgs.endTime,t.getWeeksList()}})},changeDate:function(e){this.form.startTime=e?e[0]:"",this.form.endTime=e?e[1]:""},doActionDoctor:function(e,t,a,n){var i=Date.parse(e);this.doctorSeleted="add"===t?{}:a,this.freeClinicSelected=n,"add"===t?i-Date.parse((new Date).toDateString())<0?this.$message({type:"error",message:"历史义诊不能进行添加！",dangerouslyUseHTMLString:!0}):this.modelAdd=!0:this.modelEdit=!0}},mounted:function(){this.date=Object(c.b)(new Date),this.changeDate(this.date),this.filterTable(!0)}},l=(a("1686"),a("40c0"),a("048f")),f=Object(l.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"free-clinic-manage-index p20"},[a("el-form",{ref:"filterForm",staticClass:"filter",attrs:{model:e.form,rules:e.rules,inline:"","label-width":"80px"}},[a("el-form-item",{attrs:{prop:"startTime",label:"时间"}},[a("el-date-picker",{attrs:{clearable:!0,type:"daterange","value-format":"yyyy-MM-dd","picker-options":e.pickerOption},on:{change:e.changeDate},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("el-form-item",{attrs:{label:"医生姓名"}},[a("el-input",{model:{value:e.form.docName,callback:function(t){e.$set(e.form,"docName",t)},expression:"form.docName"}})],1),a("el-form-item",{attrs:{label:"医生手机"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"医生 uid"}},[a("el-input",{model:{value:e.form.docId,callback:function(t){e.$set(e.form,"docId",t)},expression:"form.docId"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.filterTable(!1)}}},[e._v("查询")])],1)],1),a("section",{staticClass:"action-content mt30"},[a("div",{staticClass:"header--action-content mb30"},[a("span",{staticClass:"fl-l mr30"},[e._v("该时间（"+e._s(e.startTime+" 至 "+e.endTime)+"）义诊情况")]),a("div",{staticClass:"fl-r"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.tableType=1}}},[e._v("下周情况")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.modelSetting=!0}}},[e._v("义诊设置")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],staticClass:"table-wrapper--free-clinic"},[a("table",{staticClass:"body--action-content"},[a("tr",{staticStyle:{position:"relative"}},[a("th",{staticClass:"table-header-time"},[e._v("时间")]),0===e.tableData.length?a("th",[e._v("日期")]):e._l(e.tableData,function(t,n){return a("th",{key:n},[a("p",[e._v(e._s(e.weekText[new Date(t.date).getDay()]))]),e._v("\n                        "+e._s(t.date)+"\n                    ")])})],2),e.tableData&&Object.keys(e.tableData).length>0?a("tr",[a("td",[e._v("参加名单")]),e._l(e.tableData,function(t,n){return a("td",{key:n,staticClass:"table-name-list"},[a("div",{staticClass:"name-list__wrapper"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.doActionDoctor(t.date,"add",{},t)}}},[e._v("添加")]),e._l(t.docList,function(n,i){return a("div",{key:i,staticClass:"docmsg-block",on:{click:function(a){e.doActionDoctor(t.date,"edit",n,t)}}},[a("span",{staticClass:"mr20"},[e._v(e._s(n.docName))]),a("span",[e._v(e._s(n.positionalTitle))]),a("div",[e._v(e._s(n.hospitalName))])])})],2)])})],2):a("tr",[a("td",[e._v("参加名单")]),a("td",{attrs:{colspan:e.tableData.length}},[e._v("暂无数据")])])])])]),a("el-dialog",{attrs:{title:"义诊设置","append-to-body":!0,visible:e.modelSetting,width:"600px"},on:{"update:visible":function(t){e.modelSetting=t}}},[e.modelSetting?a("form-setting",{on:{"cancle-action":function(t){e.modelSetting=!1}}}):e._e()],1),a("el-dialog",{attrs:{title:"添加义诊","append-to-body":!0,visible:e.modelAdd,width:"1150px"},on:{"update:visible":function(t){e.modelAdd=t}}},[e.modelAdd?a("form-add-doctor",{attrs:{"free-clinic-msg":e.freeClinicSelected},on:{"refresh-list":e.getWeeksList}}):e._e()],1),a("el-dialog",{attrs:{title:"修改义诊","append-to-body":!0,visible:e.modelEdit,width:"1150px"},on:{"update:visible":function(t){e.modelEdit=t}}},[e.modelEdit?a("form-doctor-edit",{attrs:{"free-clinic-msg":e.freeClinicSelected,"doc-selected":e.doctorSeleted},on:{"refresh-list":e.getWeeksList,"close-model":function(t){e.modelEdit=!1}}}):e._e()],1)],1)},[],!1,null,"b591c342",null);f.options.__file="Index.vue";t.default=f.exports}}]);