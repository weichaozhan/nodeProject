(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-214db962"],{"1b8e":function(t,e,a){"use strict";a.r(e);var n=a("efa4"),i=a("4c5b"),d={name:"",data:function(){return{form:{limit:10,page:1,filters:""},tableData:[],totalCount:0,tableLoading:!1,modalAddDepShow:!1,isEdit:!1,depId:0}},components:{AddSecDepModal:function(){return Promise.all([a.e("base"),a.e("chunk-f44a9dca")]).then(a.bind(null,"cea3"))}},methods:{getSecondDepList:function(){var t=this,e=Object(n.a)({},this.form);this.tableLoading=!0,Object(i.j)(e).then(function(e){var a=e.data.data;t.totalCount=a.totalCount,t.tableData=a.data,t.tableLoading=!1}).catch(function(e){t.tableLoading=!1})},handleSizeChange:function(t){this.form.limit=t,this.getSecondDepList()},handleCurrentChange:function(t){this.form.page=t,this.getSecondDepList()},handleAddDep:function(){this.depId=0,this.isEdit=!1,this.modalAddDepShow=!0},handleCheck:function(t,e){this.depId=e.id,this.modalAddDepShow=!0,this.isEdit=!0},handleDel:function(t,e){var a=this,n=e.id;Object(i.f)(n).then(function(t){var e=t.data,n="success";1e3===e.code?a.getSecondDepList():n="error",a.$message({type:n,message:"success"===n?"删除成功！":e.msg})})}},created:function(){this.getSecondDepList()}},o=(a("8666"),a("048f")),l=Object(o.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"table_body"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",size:"medium "}},[a("el-table-column",{attrs:{prop:"departmentName",label:"名称","min-width":"180"}}),a("el-table-column",{attrs:{prop:"doctorNum",label:"医生人数","min-width":"100"}}),a("el-table-column",{attrs:{prop:"InquisitionNum",label:"月平均问诊量","min-width":"100"}}),a("el-table-column",{attrs:{prop:"superiorDepartment",label:"所属一级科室","min-width":"200"}}),a("el-table-column",{attrs:{label:"操作","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){t.handleCheck(e.$index,e.row)}}},[t._v("修改")]),e.row.doctorNum>0?a("el-button",{attrs:{disabled:"",size:"mini",type:"danger",plain:""}},[t._v("删除")]):a("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(a){t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"table-footer--APP",attrs:{slot:"append"},slot:"append"},[a("el-pagination",{attrs:{"current-page":t.form.page,"page-sizes":[10,20,30,40,50,60,70,80,90],"page-size":t.form.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("div",[a("el-button",{staticClass:"addDep",attrs:{type:"primary"},on:{click:t.handleAddDep}},[t._v("新增科室")])],1)],1),a("div",[a("el-dialog",{attrs:{title:this.isEdit?"修改科室":"新增科室","append-to-body":!0,visible:t.modalAddDepShow,width:"40%"},on:{"update:visible":function(e){t.modalAddDepShow=e}}},[t.modalAddDepShow?a("add-sec-dep-modal",{attrs:{"dep-id":t.depId},on:{"finish-action":t.getSecondDepList,"close-form":function(e){t.modalAddDepShow=!1}}}):t._e()],1)],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("p",[this._v("二级科室列表")])])}],!1,null,null,null);l.options.__file="SecondIndex.vue";e.default=l.exports},8666:function(t,e,a){"use strict";var n=a("e4d7");a.n(n).a},e4d7:function(t,e,a){}}]);