(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0acbea0b"],{"145d":function(e,t,a){},"286a":function(e,t,a){"use strict";a.d(t,"f",function(){return o}),a.d(t,"c",function(){return i}),a.d(t,"d",function(){return r}),a.d(t,"e",function(){return l}),a.d(t,"b",function(){return c}),a.d(t,"a",function(){return s});var n=a("5bf4"),o=function(e){return Object(n.a)({url:"/capital/userTrade",method:"get",params:e})},i=function(e){return Object(n.a)({url:"/capital/userTrade/export",method:"get",params:e,responseType:"blob"})},r=function(e){return Object(n.a)({url:"/capital/accounts",method:"get",params:e})},l=function(e){return Object(n.a)({url:"/capital/balance",method:"get",params:e})},c=function(e){return Object(n.a)({url:"/capital/balance/export",method:"get",params:e,responseType:"blob"})},s=function(e){return Object(n.a)({url:"/capital/confirm/".concat(e.id),method:"get"})}},4088:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"c",function(){return i}),a.d(t,"d",function(){return r});var n="http://819operationapi.j7w5.net",o=[{id:1,name:"审核管理",icon:"el-icon-message",children:[{id:11,name:"医生审核管理",icon:"el-icon-news",path:"/reviewDoctorManage"},{id:12,name:"医院审核管理",icon:"el-icon-date",path:"/reviewHospitalManage"},{id:13,name:"医生签名审核管理",icon:"el-icon-bell",path:"/reviewSignatureManage"}]},{id:2,name:"用户管理",icon:"el-icon-time",children:[{id:21,name:"医生用户管理",icon:"el-icon-service",path:"/doctorUserManage"},{id:22,name:"患者用户管理",icon:"el-icon-view",path:"/patientUserManage"}]},{id:3,name:"数据管理",icon:"el-icon-printer",children:[{id:31,name:"资讯管理",icon:"el-icon-news",path:"/informationManage"},{id:32,name:"儿童疫苗管理",icon:"el-icon-news",path:"/childrenVaccine"},{id:33,name:"行为标签管理",icon:"el-icon-tickets",path:"/labelPage"},{id:34,name:"接诊设置管理",icon:"el-icon-time",path:"/doctorPrice"},{id:35,name:"科室数据管理",icon:"el-icon-news",path:"/contentManage"},{id:36,name:"义诊管理",icon:"el-icon-date",path:"/freeClinicManage"}]},{id:4,name:"医生社区管理",icon:"el-icon-view",children:[{id:41,name:"话题管理",icon:"el-icon-star-on",path:"/topicManage"},{id:42,name:"小组管理",icon:"el-icon-picture-outline",path:"/groupManage"},{id:43,name:"动态管理",icon:"el-icon-news",path:"/trendManage"},{id:44,name:"举报管理",icon:"el-icon-time",path:"/reportManage"},{id:45,name:"敏感词管理",icon:"el-icon-sold-out",path:"/sensitiveWord"}]},{id:5,name:"财务管理",icon:"el-icon-star-off",children:[{id:51,name:"用户交易管理",icon:"el-icon-refresh",path:"/accountUserDeal"},{id:52,name:"结算管理",icon:"el-icon-edit-outline",path:"/accountSettleManage"},{id:53,name:"退款审核管理",icon:"el-icon-bell",path:"/refundReviewManage"}]},{id:6,name:"系统管理",icon:"el-icon-location",children:[{id:61,name:"账号管理",icon:"el-icon-news",path:"/userAdmin"},{id:62,name:"协议管理",icon:"el-icon-news",path:"/agreementManage"},{id:63,name:"科室数据展示",icon:"el-icon-star-off",path:"/departmentDataDisplay"},{id:64,name:"APP审核管理",icon:"el-icon-star-on",path:"/appReviewManage"}]}],i={1:"支持/反对",2:"正确/错误",3:"喜欢/不喜欢"},r={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"}},"5bf4":function(e,t,a){"use strict";a("20a2"),a("5a09");var n=a("efa4"),o=a("7f43"),i=a.n(o),r=a("0e4f"),l=a.n(r),c=a("329b"),s=a("a18c"),d=a("4587"),u=a("4088");c.default.prototype.$message=d.Message;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};a.Authorization="".concat(localStorage.getItem("token")),t||(a["Content-Type"]="application/json"),e.headers&&(a=Object(n.a)({},a,e.headers));var o=null;return o="[object FormData]"!==Object.prototype.toString.call(e.data)?a["Content-Type"]&&"application/x-www-form-urlencoded"!==a["Content-Type"]?e.data||"":l.a.stringify(e.data):e.data,new Promise(function(t,n){i()(Object.assign({},e,{baseURL:u.a,url:e.url,method:e.method||"get",headers:a,data:o,params:e.params||"",timeout:e.timeout||0})).then(function(e){1002===e.data.code?(c.default.prototype.$message({type:"error",message:"登录信息过期！请重新登录"}),n("登录信息过期！请重新登录"),s.a.push("/login")):t(e)}).catch(function(e){console.log(e),n(e)})})}},a241:function(e,t,a){"use strict";var n=a("145d");a.n(n).a},f86e:function(e,t,a){"use strict";a.r(t);var n=a("efa4"),o=a("286a"),i={name:"",data:function(){return{form:{limit:10,page:1,startTime:"",endTime:"",tradingStatus:"",type:"",keyword:""},type:1,keyword:"",tradingStatus:"",dateRange:[],tableLoading:!1,tableData:[],totalCount:0,loadingExport:!1}},methods:{getUserDealList:function(){var e=this,t=Object(n.a)({},this.form);this.tableLoading=!0,Object(o.f)(t).then(function(t){var a=t.data.data;e.totalCount=a.totalCount,e.tableData=a.data,e.tableLoading=!1}).catch(function(t){e.tableLoading=!1})},filtDoctorList:function(){var e=this.dateRange?this.dateRange:["",""];this.form=Object(n.a)({},this.form,{page:1,startTime:e[0],endTime:e[1],type:this.type,tradingStatus:this.tradingStatus,keyword:this.keyword}),this.getUserDealList()},handleSizeChange:function(e){this.form.limit=e,this.getUserDealList()},handleCurrentChange:function(e){this.form.page=e,this.getUserDealList()},exportUserDealList:function(){var e=this;this.loadingExport=!0,Object(o.c)(Object(n.a)({},this.form)).then(function(t){var a=t.data,n=document.createElement("a"),o=URL.createObjectURL(a);n.target="_blank",n.download="用户交易管理".concat(e.form.startTime?"_".concat(e.form.startTime,"-").concat(e.form.endTime):"",".xlsx"),n.href=o,n.click(),e.loadingExport=!1}).catch(function(t){console.log(t),e.loadingExport=!1})}},created:function(){this.getUserDealList()}},r=(a("a241"),a("048f")),l=Object(r.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper--account-manage"},[a("div",{staticClass:"filter"},[a("el-form",{staticClass:"fl-l",attrs:{inline:""}},[a("el-form-item",{attrs:{label:"交易时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",{attrs:{label:"交易状态"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择交易状态"},model:{value:e.tradingStatus,callback:function(t){e.tradingStatus=t},expression:"tradingStatus"}},[a("el-option",{attrs:{value:1,label:"正常"}}),a("el-option",{attrs:{value:2,label:"退款"}}),a("el-option",{attrs:{value:3,label:"已完结"}})],1)],1),a("el-form-item",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-select",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{value:1,label:"手机号 "}}),a("el-option",{attrs:{value:2,label:"用户名"}}),a("el-option",{attrs:{value:3,label:"UID"}}),a("el-option",{attrs:{value:4,label:"交易号"}})],1)],1),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入"+{1:"手机号",2:"用户名",3:"UID",4:"交易号"}[e.type],clearable:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.filtDoctorList}},[e._v("查找")])],1)],1),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingExport,expression:"loadingExport"}],staticClass:"action-export",attrs:{type:"primary"},on:{click:e.exportUserDealList}},[e._v("导出当前数据")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"medium ",border:"","max-height":"460"}},[a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"200"}}),a("el-table-column",{attrs:{prop:"number",label:"交易号","min-width":"300"}}),a("el-table-column",{attrs:{prop:"username",label:"发起用户名","min-width":"200"}}),a("el-table-column",{attrs:{prop:"uid",label:"发起用户Uid","min-width":"200"}}),a("el-table-column",{attrs:{prop:"userPhone",label:"发起用户手机号","min-width":"200"}}),a("el-table-column",{attrs:{label:"金额（税前）","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.treatmentMoney?a("p",[e._v("\n                        问诊金额："+e._s(t.row.treatmentMoney||0===t.row.treatmentMoney?t.row.treatmentMoney+" 元":"-")+" (原价："+e._s(t.row.price||0===t.row.price?t.row.price+" 元":"-")+")\n                    ")]):a("p",[e._v("问诊金额："+e._s(t.row.price||0===t.row.price?t.row.price+" 元":"-"))]),a("p",[e._v("打赏金额："+e._s(t.row.reward?t.row.reward+" 元":"-"))])]}}])}),a("el-table-column",{attrs:{label:"服务费(税前)","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    -\n                ")]}}])}),a("el-table-column",{attrs:{label:"交易状态",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s({1:"正常",2:"退款",3:"已完结"}[t.row.tradingStatus])+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"支付方式",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s({1:"积分",2:"微信",3:"支付宝",4:"余额"}[t.row.payWay])+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"操作平台",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s({0:"PC",1:"IOS",2:"Android",3:"运营端"}[t.row.platform])+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"docName",label:"接受医生姓名",width:"200"}}),a("el-table-column",{attrs:{prop:"docPhone",label:"接受医生手机号",width:"200"}}),a("el-table-column",{attrs:{prop:"docId",label:"接受医生Uid",width:"200"}})],1),a("div",{staticClass:"table-footer--APP",attrs:{slot:"append"},slot:"append"},[a("el-pagination",{attrs:{"current-page":e.form.page,"page-sizes":[10,20,30,40,50,60,70,80,90],"page-size":e.form.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},[],!1,null,"a27af210",null);l.options.__file="Index.vue";t.default=l.exports}}]);