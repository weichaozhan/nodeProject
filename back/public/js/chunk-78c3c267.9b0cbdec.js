(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-78c3c267"],{"4ef7":function(t,e,n){t.exports=n.p+"img/doc_default_avatar.683033ef.jpg"},5120:function(t,e,n){"use strict";n.d(e,"i",function(){return i}),n.d(e,"h",function(){return c}),n.d(e,"l",function(){return d}),n.d(e,"g",function(){return u}),n.d(e,"f",function(){return s}),n.d(e,"j",function(){return l}),n.d(e,"a",function(){return m}),n.d(e,"y",function(){return f}),n.d(e,"u",function(){return b}),n.d(e,"e",function(){return g}),n.d(e,"z",function(){return p}),n.d(e,"r",function(){return h}),n.d(e,"q",function(){return v}),n.d(e,"k",function(){return j}),n.d(e,"t",function(){return O}),n.d(e,"x",function(){return C}),n.d(e,"d",function(){return _}),n.d(e,"o",function(){return w}),n.d(e,"m",function(){return M}),n.d(e,"n",function(){return k}),n.d(e,"b",function(){return L}),n.d(e,"v",function(){return T}),n.d(e,"w",function(){return I}),n.d(e,"s",function(){return y}),n.d(e,"p",function(){return S}),n.d(e,"c",function(){return D});var r=n("efa4"),o=n("5bf4"),a=n("4088"),i=function(t){return Object(o.a)({url:"/member/doctor/getList",method:"get",params:t})},c=function(t){return Object(o.a)({url:"member/doctor/detail/".concat(t.docId),method:"get"})},d=function(t){return Object(o.a)({url:"member/doctor/inquisitionList/".concat(t.docId),method:"get"})},u=function(t){return Object(o.a)({url:"/member/doctor/getBlacklist",method:"get",params:t})},s=function(t){return Object(o.a)({url:"/member/doctor/getAbnormalTypeList",method:"get",params:t})},l=function(t){return Object(o.a)({url:"/member/doctor/getFrozenList",method:"get",params:t})},m=function(t){return Object(o.a)({url:"/member/doctor/addBlacklist",method:"post",data:t})},f=function(t){return Object(o.a)({url:"/member/doctor/exceptionHandling",method:"post",data:t})},b=function(t){return Object(o.a)({url:"/member/doctor/removeBlacklist",method:"post",data:t})},g=function(t){return Object(o.a)({url:"/member/doctor/frozen",method:"post",data:t})},p=function(t){return Object(o.a)({url:"/member/doctor/unfreeze",method:"post",data:t})},h=function(t){return Object(o.a)({url:"/member/doctor/modifyRank/".concat(t.docId),method:"put",data:{rankingNum:t.rankingNum}})},v=function(t){var e=Object(r.a)({},t);return delete e.docId,Object(o.a)({url:"/member/doctor/modifyInfo/".concat(t.docId),method:"put",data:e})},j=function(t){return Object(o.a)({url:"/member/doctor/getInquisitionDetail/".concat(t.inquisitionId),method:"get"})},O=function(t){return Object(o.a)({url:"/member/doctor/removeAbnormal",method:"post",data:t})},C=function(t){return Object(o.a)({url:"/member/doctor/sendAppMsg",method:"post",data:t})},_=function(){return Object(o.a)({url:"/member/patient/downloadTemplate",method:"get",responseType:"blob"},!0)},w=function(t){return Object(o.a)({url:"/member/patient/getList",method:"get",params:t})},M=function(t){return Object(o.a)({url:"/member/patient/getBlacklist",method:"get",params:t})},k=function(t){return Object(o.a)({url:"/member/patient/getInquisitionDetail/".concat(t.inquisitionId),method:"get"})},L=function(t){return Object(o.a)({url:"/member/patient/addBlacklist",method:"post",data:t})},T=function(t){return Object(o.a)({url:"/member/patient/removeAbnormal",method:"post",data:t})},I=function(t){return Object(o.a)({url:"/member/patient/removeBlacklist",method:"post",data:t})},y="".concat(a.a,"/member/patient/uploadList"),S=function(t){return Object(o.a)({url:"/member/patient/importList",method:"post",data:t})},D=function(t){return Object(o.a)({url:"/member/patient/addPatient",method:"post",data:t})}},"5fd7a":function(t,e,n){"use strict";var r=n("67fc");n.n(r).a},"67fc":function(t,e,n){},c572:function(t,e,n){"use strict";n.r(e);n("25d7"),n("bd2d");var r=n("5120"),o=n("bdba"),a={name:"",data:function(){return{docMsg:{},abnormalList:[],page:1,limit:5,totalCount:0,btnRemoveShow:!0,loading:!1,loadingTable:!1}},props:{freeClinicMsg:{required:!0},docSelected:{required:!0}},methods:{initPage:function(){var t=this;this.loading=!0,Promise.all([this.getDoctorDetail(),this.getFCAbnormalList()]).then(function(e){t.loading=!1}).catch(function(e){t.loading=!1})},getDoctorDetail:function(){var t=this;return Object(r.h)({docId:this.docSelected.docId}).then(function(e){var n=e.data;t.docMsg=n.data})},getFCAbnormalList:function(){var t=this;return this.loadingTable=!0,Object(o.b)({page:this.page,limit:this.limit},this.docSelected.docId).then(function(e){var n=e.data;t.abnormalList=n.data.data,t.totalCount=n.data.totalCount,t.loadingTable=!1}).catch(function(e){t.loadingTable=!1})},handleCurrentChange:function(t){this.page=t,this.getFCAbnormalList()},removeOutFreeClinic:function(){var t=this;this.$confirm("确认将 <b>".concat(this.docSelected.docName,"</b> 移出 <b>").concat(this.freeClinicMsg.date,"</b> 的义诊？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then(function(){t.loading=!0,Object(o.f)({id:t.docSelected.id}).then(function(e){var n=e.data,r=1e3===n.code;r&&(t.$emit("refresh-list"),t.$emit("close-model")),t.$message({type:r?"success":"error",message:r?"移除成功！":n.msg}),t.loading=!1}).catch(function(e){t.loading=!1})}).catch(function(){})}},mounted:function(){this.initPage(),this.btnRemoveShow=Date.parse(this.freeClinicMsg.date)-Date.parse((new Date).toDateString())>0}},i=(n("5fd7a"),n("048f")),c=Object(i.a)(a,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wrapper--free-clinic-form"},[r("div",{staticClass:"doctor-msg"},[r("div",{staticClass:"doc-base-msg fl-l"},[t.docMsg.avatar?r("img",{attrs:{src:t.docMsg.avatar,width:"140",height:"140"}}):r("img",{attrs:{src:n("4ef7"),width:"140",height:"140"}}),r("div",{staticClass:"doc-base-msg__content"},[r("p",[r("span",{staticClass:"mr30"},[t._v(t._s(t.docMsg.docName))]),r("span",[t._v(t._s(t.docMsg.positionalTitle))])]),r("p",[t._v(t._s(t.docMsg.departmentName))]),r("p",[t._v(t._s(t.docMsg.hospitalName))])])]),r("div",{staticClass:"fl-r"},[r("p",[t._v("本月应工作："+t._s(t.docMsg.workHour+t.docMsg.surplusHour||0)+" 小时")]),r("p",[t._v("本月已工作："+t._s(t.docMsg.workHour||0)+" 小时")]),r("p",[t._v("当前平均分："+t._s(t.docMsg.evaluationScore||0))])])]),r("div",{staticClass:"abnormal-list"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:t.abnormalList,border:"","max-height":"500"}},[r("el-table-column",{attrs:{prop:"abnormalTime",label:"异常时间"}}),r("el-table-column",{attrs:{prop:"abnormalReason",label:"异常原因"}})],1),r("el-pagination",{staticClass:"mt20",attrs:{"current-page":t.page,"page-size":t.limit,layout:"prev, pager, next, jumper",total:t.totalCount},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}})],1),t.btnRemoveShow?r("div",{staticClass:"action-wrapper"},[r("el-button",{attrs:{type:"primary"},on:{click:t.removeOutFreeClinic}},[t._v("移出义诊")])],1):t._e()])},[],!1,null,"0f72b8fa",null);c.options.__file="FormDoctorEdit.vue";e.default=c.exports}}]);