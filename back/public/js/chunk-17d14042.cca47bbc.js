(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-17d14042"],{"11ce":function(t,i,n){},"1b1c":function(t,i,n){"use strict";n.r(i);var o=n("5120"),e={1:"正常",2:"删除",3:"冻结",4:"黑名单"},s={name:"DoctorDetail",data:function(){return{doctorStatus:e[this.doctorDetail.status],inquisitionDetail:[],loading:!1,imgAmplification:"",modelImgShow:!1,modelSendMsgShow:!1}},components:{AppMsgSendForm:function(){return n.e("chunk-1aabd7b8").then(n.bind(null,"25f3"))}},props:{doctorDetail:{required:!0,type:Object},inquisitionId:{required:!0}},watch:{},methods:{getInquisitionDetail:function(){var t=this;this.loading=!0,Object(o.k)({inquisitionId:this.inquisitionId}).then(function(i){t.loading=!1,t.inquisitionDetail=i.data.data}).catch(function(i){t.loading=!1})},enlargeImg:function(t){this.imgAmplification=t,this.modelImgShow=!0},removeAbnormal:function(t){var i=this;t.abnormal_id&&"正常"!==t.abnormal_reason?this.$confirm("确定要消除异常么？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.t)({abnormal_id:t.abnormal_id}).then(function(t){var n=t.data;1e3===n.code?(i.$message({type:"success",message:"消除异常成功"}),i.getInquisitionDetail(),i.$emit("finish-action")):i.$message({type:"error",message:n.msg})})}).catch(function(t){}):this.$message({message:"没有异常，无需消除"})}},mounted:function(){this.getInquisitionDetail()}},a=(n("2624"),n("048f")),c=Object(a.a)(s,function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wrapper--inquisition-detail"},[o("section",{staticClass:"base-msg"},[o("div",{staticClass:"base-msg__doctor-person"},[t.doctorDetail.avatar?o("img",{attrs:{src:t.doctorDetail.avatar,height:"140",width:"140"}}):o("img",{attrs:{src:n("4ef7"),height:"140",width:"140"}}),o("div",{staticClass:"doctor-person__msg"},[o("h2",[o("span",{staticClass:"mr10"},[t._v(t._s(t.doctorDetail.docName))]),o("span",[t._v(t._s(t.doctorDetail.positionalTitle))])]),o("h3",[t._v("\n                    "+t._s(t.doctorDetail.hospitalName)+"\n                ")]),o("h3",[t._v("\n                    联系电话："+t._s(t.doctorDetail.phone)+"\n                ")])])]),o("div",{staticClass:"base-msg__doctor-work"},[o("h2",[t._v("\n                当月工作时间："+t._s(t.doctorDetail.workHour)+" 小时\n            ")]),o("h3",[t._v("\n                （还需完成 "+t._s(t.doctorDetail.surplusHour)+" 小时）\n            ")]),o("h2",[t._v("\n                当前获得评分："+t._s(t.doctorDetail.evaluationScore)+" 分\n            ")])])]),o("section",{staticClass:"inquisition-content"},[o("div",{staticClass:"action"},[o("div",{staticClass:"description"},[o("span",[t._v("得分："+t._s("[object Object]"===Object.prototype.toString.call(t.inquisitionDetail.commentInfo)?t.inquisitionDetail.commentInfo.score:"-"))]),o("p",[t._v("评价："+t._s("[object Object]"===Object.prototype.toString.call(t.inquisitionDetail.commentInfo)?t.inquisitionDetail.commentInfo.comment:"-"))]),o("p",[t._v("异常原因："+t._s(t.inquisitionDetail.abnormal_reason))])]),o("el-button",{attrs:{type:"primary"},on:{click:function(i){t.removeAbnormal(t.inquisitionDetail)}}},[t._v("消除异常")]),o("el-button",{attrs:{type:"primary"},on:{click:function(i){t.modelSendMsgShow=!0}}},[t._v("发送 APP 消息")])],1),o("div",{staticClass:"inquisition-list"},[o("div",{staticClass:"inquisition-content"},t._l(t.inquisitionDetail.msgList,function(i,n){return o("div",{key:n+"-"+i.inquisitionId,staticClass:"inquisition-content__detail"},[o("div",{staticClass:"pacient-q"},[o("h4",[t._v("第 "+t._s(n+1)+" 次提问（"+t._s(i.askTime)+"）")]),o("p",[t._v(t._s(i.content))]),t._l(i.imgPic,function(i,n){return o("img",{key:n,attrs:{width:"100",height:"100",src:i},on:{click:function(n){t.enlargeImg(i)}}})})],2),o("div",{staticClass:"doctor-a"},[o("h4",[t._v("医生回复")]),t._l(i.doctorAnswer,function(n,e){return i.doctorAnswer.length>0?o("div",{key:e,staticClass:"doctor-a__content"},[o("e",[t._v(t._s(n.answerTime))]),o("p",[t._v(t._s(n.answerContent))])],1):t._e()}),o("div",{attrs:{else:""}},[t._v("\n                            暂无回复\n                        ")])],2)])}))])]),o("el-dialog",{attrs:{title:"发送 APP 消息","append-to-body":!0,visible:t.modelSendMsgShow,width:"500px"},on:{"update:visible":function(i){t.modelSendMsgShow=i}}},[t.modelSendMsgShow?o("app-msg-send-form",{attrs:{"doctor-id":t.doctorDetail.docId,"inquisition-id":t.inquisitionId},on:{"close-form":function(i){t.modelSendMsgShow=!1}}}):t._e()],1),o("el-dialog",{attrs:{title:"问诊图片","append-to-body":!0,visible:t.modelImgShow,width:"500px"},on:{"update:visible":function(i){t.modelImgShow=i}}},[o("div",{staticClass:"img-amplification"},[o("img",{attrs:{src:t.imgAmplification}})])])],1)},[],!1,null,"9790b080",null);c.options.__file="InquisitionDetail.vue";i.default=c.exports},2624:function(t,i,n){"use strict";var o=n("11ce");n.n(o).a}}]);