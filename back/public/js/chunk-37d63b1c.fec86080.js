(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-37d63b1c"],{"09fb":function(t,e,n){"use strict";var a=n("1764");n.n(a).a},1764:function(t,e,n){},"18bf":function(t,e,n){"use strict";n.r(e);var a=n("efa4"),i=n("4eb6"),o={name:"",data:function(){return{form:{keyword:"",limit:10,page:1,startTime:"",endTime:"",topicType:""},dateRange:[],topicType:"",keyword:"",tableLoading:!1,tableData:[],totalCount:0,loadingExport:!1,topicId:null,showDetail:!1,showAdd:!1}},components:{TopicDetail:function(){return Promise.all([n.e("base"),n.e("chunk-43e1e234")]).then(n.bind(null,"566f"))},ActionTopic:function(){return Promise.all([n.e("base"),n.e("chunk-c03ffa54")]).then(n.bind(null,"1cf5"))}},methods:{getTopicList:function(){var t=this,e=Object(a.a)({},this.form);this.tableLoading=!0,Object(i.e)(e).then(function(e){var n=e.data.data;t.totalCount=n.totalCount,t.tableData=n.data,t.tableLoading=!1}).catch(function(e){t.tableLoading=!1})},downloadTopicList:function(){var t=this,e=Object(a.a)({},this.form);delete e.limit,delete e.page,this.loadingExport=!0,Object(i.d)(e).then(function(e){t.loadingExport=!1;var n=e.data,a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download="话题数据.xlsx",i.target="_blank",i.click()}).catch(function(e){t.loadingExport=!1})},checkTopicDetail:function(t){this.showDetail=!0,this.topicId=t},filtTopicList:function(){var t=this.dateRange?this.dateRange:["",""];this.form.page=1,this.form.keyword=this.keyword,this.form.startTime=t[0],this.form.endTime=t[1],this.form.topicType=this.topicType,this.getTopicList()},handleSizeChange:function(t){this.form.limit=t,this.getTopicList()},handleCurrentChange:function(t){this.form.page=t,this.getTopicList()},backListFromDetail:function(){this.showDetail=!1}},mounted:function(){this.getTopicList()}},c=(n("09fb"),n("048f")),l=Object(c.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p20"},[t.showDetail||t.showAdd?t._e():n("div",[n("div",{staticClass:"options"},[n("el-button",{staticClass:"fl-l",attrs:{type:"primary"},on:{click:function(e){t.showAdd=!0}}},[t._v("新增话题")]),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingExport,expression:"loadingExport"}],staticClass:"fl-r",attrs:{type:"primary"},on:{click:t.downloadTopicList}},[t._v("导出详细数据")])],1),n("div",{staticClass:"filter mt30"},[n("el-form",{attrs:{inline:""}},[n("el-form-item",{attrs:{label:"发布时间"}},[n("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),n("el-form-item",{attrs:{label:"话题类型"}},[n("el-select",{model:{value:t.topicType,callback:function(e){t.topicType=e},expression:"topicType"}},[n("el-option",{attrs:{value:"",label:"全部"}}),n("el-option",{attrs:{value:1,label:"投票话题"}}),n("el-option",{attrs:{value:2,label:"普通话题"}})],1)],1),n("el-form-item",[n("el-input",{staticClass:"el-input-search",attrs:{clearable:"",placeholder:"请输入话题名称"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.filtTopicList}},[t._v("查找")])],1)],1)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"medium ",border:"","max-height":"400"}},[n("el-table-column",{attrs:{fixed:"",prop:"id",label:"话题ID",width:"150"}}),n("el-table-column",{attrs:{prop:"title",label:"话题名称","min-width":"150"}}),n("el-table-column",{attrs:{prop:"publishTime",label:"发布时间","min-width":"150"}}),n("el-table-column",{attrs:{prop:"browseCount",label:"浏览量","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.count.browseCount)+"\n                    ")]}}])}),n("el-table-column",{attrs:{prop:"focusCount",label:"点赞量","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.count.focusCount)+"\n                    ")]}}])}),n("el-table-column",{attrs:{prop:"commentCount",label:"评论量","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.count.commentCount)+"\n                    ")]}}])}),n("el-table-column",{attrs:{prop:"favoriteCount",label:"收藏量","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.count.favoriteCount)+"\n                    ")]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){t.checkTopicDetail(e.row.id)}}},[t._v("\n                            查看\n                        ")])]}}])})],1),n("div",{staticClass:"table-footer--APP",attrs:{slot:"append"},slot:"append"},[n("el-pagination",{attrs:{"current-page":t.form.page,"page-sizes":[10,20,30,40,50,60,70,80,90],"page-size":t.form.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]),t.showDetail?n("topic-detail",{attrs:{"topic-id":t.topicId},on:{"back-list":t.backListFromDetail,"get-list":t.getTopicList}}):t._e(),t.showAdd?n("action-topic",{attrs:{"action-type":"add"},on:{"close-form":function(e){t.showAdd=!1},"refresh-list":t.getTopicList}}):t._e()],1)},[],!1,null,"9d2030a8",null);l.options.__file="Index.vue";e.default=l.exports},4088:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return c});var a="http://819operationapi.j7w5.net",i=[{id:1,name:"审核管理",icon:"el-icon-message",children:[{id:11,name:"医生审核管理",icon:"el-icon-news",path:"/reviewDoctorManage"},{id:12,name:"医院审核管理",icon:"el-icon-date",path:"/reviewHospitalManage"},{id:13,name:"医生签名审核管理",icon:"el-icon-bell",path:"/reviewSignatureManage"}]},{id:2,name:"用户管理",icon:"el-icon-time",children:[{id:21,name:"医生用户管理",icon:"el-icon-service",path:"/doctorUserManage"},{id:22,name:"患者用户管理",icon:"el-icon-view",path:"/patientUserManage"}]},{id:3,name:"数据管理",icon:"el-icon-printer",children:[{id:31,name:"资讯管理",icon:"el-icon-news",path:"/informationManage"},{id:32,name:"儿童疫苗管理",icon:"el-icon-news",path:"/childrenVaccine"},{id:33,name:"行为标签管理",icon:"el-icon-tickets",path:"/labelPage"},{id:34,name:"接诊设置管理",icon:"el-icon-time",path:"/doctorPrice"},{id:35,name:"科室数据管理",icon:"el-icon-news",path:"/contentManage"},{id:36,name:"义诊管理",icon:"el-icon-date",path:"/freeClinicManage"}]},{id:4,name:"医生社区管理",icon:"el-icon-view",children:[{id:41,name:"话题管理",icon:"el-icon-star-on",path:"/topicManage"},{id:42,name:"小组管理",icon:"el-icon-picture-outline",path:"/groupManage"},{id:43,name:"动态管理",icon:"el-icon-news",path:"/trendManage"},{id:44,name:"举报管理",icon:"el-icon-time",path:"/reportManage"},{id:45,name:"敏感词管理",icon:"el-icon-sold-out",path:"/sensitiveWord"}]},{id:5,name:"财务管理",icon:"el-icon-star-off",children:[{id:51,name:"用户交易管理",icon:"el-icon-refresh",path:"/accountUserDeal"},{id:52,name:"结算管理",icon:"el-icon-edit-outline",path:"/accountSettleManage"},{id:53,name:"退款审核管理",icon:"el-icon-bell",path:"/refundReviewManage"}]},{id:6,name:"系统管理",icon:"el-icon-location",children:[{id:61,name:"账号管理",icon:"el-icon-news",path:"/userAdmin"},{id:62,name:"协议管理",icon:"el-icon-news",path:"/agreementManage"},{id:63,name:"科室数据展示",icon:"el-icon-star-off",path:"/departmentDataDisplay"},{id:64,name:"APP审核管理",icon:"el-icon-star-on",path:"/appReviewManage"}]}],o={1:"支持/反对",2:"正确/错误",3:"喜欢/不喜欢"},c={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"}},"4eb6":function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"b",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"a",function(){return r}),n.d(e,"g",function(){return s}),n.d(e,"c",function(){return d});var a=n("5bf4"),i=function(t){return Object(a.a)({url:"/community/topicList",method:"get",params:t})},o=function(t){return Object(a.a)({url:"/community/topic/export",method:"get",params:t,responseType:"blob"},!0)},c=function(t){return Object(a.a)({url:"/community/topic/check/".concat(t.id),method:"get"})},l=function(t){return Object(a.a)({url:"/community/topicInfo/".concat(t.id),method:"get"})},r=function(t,e){return Object(a.a)({url:"community/topic/create",method:"post",data:t})},s=function(t,e){return Object(a.a)({url:"/community/topic/modify/".concat(e),method:"put",data:t})},d=function(t){return Object(a.a)({url:"/community/topic/del/".concat(t.id),method:"delete"})}},"5bf4":function(t,e,n){"use strict";n("20a2"),n("5a09");var a=n("efa4"),i=n("7f43"),o=n.n(i),c=n("0e4f"),l=n.n(c),r=n("329b"),s=n("a18c"),d=n("4587"),u=n("4088");r.default.prototype.$message=d.Message;e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};n.Authorization="".concat(localStorage.getItem("token")),e||(n["Content-Type"]="application/json"),t.headers&&(n=Object(a.a)({},n,t.headers));var i=null;return i="[object FormData]"!==Object.prototype.toString.call(t.data)?n["Content-Type"]&&"application/x-www-form-urlencoded"!==n["Content-Type"]?t.data||"":l.a.stringify(t.data):t.data,new Promise(function(e,a){o()(Object.assign({},t,{baseURL:u.a,url:t.url,method:t.method||"get",headers:n,data:i,params:t.params||"",timeout:t.timeout||0})).then(function(t){1002===t.data.code?(r.default.prototype.$message({type:"error",message:"登录信息过期！请重新登录"}),a("登录信息过期！请重新登录"),s.a.push("/login")):e(t)}).catch(function(t){console.log(t),a(t)})})}}}]);