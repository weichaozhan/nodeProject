(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-752d5f1d"],{4966:function(t,o,i){"use strict";i.r(o);var e=i("5120"),n={name:"DoctorDetail",data:function(){return{doctorDetail:{},wholeLoding:!1,inquisitionList:[],inquisitionId:"",modelInquisitionShow:!1,modelAddBlackShow:!1,modelFrozenShow:!1,modelDepRankShow:!1,modelEditMsgShow:!1}},components:{BlackListAddForm:function(){return i.e("chunk-2ab132e0").then(i.bind(null,"2471"))},FrozenForm:function(){return i.e("chunk-96724b52").then(i.bind(null,"66b6"))},DepRankForm:function(){return i.e("chunk-60e4ab46").then(i.bind(null,"6742"))},EditMsgDocForm:function(){return Promise.all([i.e("base"),i.e("chunk-6856456c")]).then(i.bind(null,"e55b"))},InquisitionDetail:function(){return i.e("chunk-17d14042").then(i.bind(null,"1b1c"))}},props:{doctorId:{required:!0},getDoctorList:{required:!0,type:Function}},watch:{doctorId:function(t){this.initPage(t)}},methods:{initPage:function(t){this.getDoctorDetail(t),this.getInquisitionList(t)},getDoctorDetail:function(t){var o=this;this.wholeLoding=!0,Object(e.h)({docId:t}).then(function(t){o.$set(o.$data,"doctorDetail",t.data.data),o.wholeLoding=!1}).catch(function(t){o.wholeLoding=!1})},showContentDetail:function(t){this.modelInquisitionShow=!0,this.inquisitionId=t},getInquisitionList:function(t){var o=this;this.wholeLoding=!0,Object(e.l)({docId:t}).then(function(t){o.inquisitionList=t.data.data,o.wholeLoding=!1}).catch(function(t){o.wholeLoding=!1})},freezeAction:function(t){var o=this;3===t?this.$confirm("确定要解冻该账户么？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(e.z)({docId:o.doctorId,flag:2}).then(function(t){var i=t.data;1e3===i.code?(o.$message({type:"success",message:"解冻成功"}),o.finishOptions()):o.$message({type:"error",message:i.msg})})}).catch(function(t){}):this.modelFrozenShow=!0},finishOptions:function(){this.getDoctorList(),this.initPage(this.doctorId)},jumpToDynamicManage:function(){this.$store.commit("menu/changeActiveItem",43),this.$emit("close-model")}},mounted:function(){this.initPage(this.doctorId)}},a=(i("705b"),i("048f")),s=Object(a.a)(n,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.wholeLoding,expression:"wholeLoding"}],staticClass:"wrapper--doctor-detail"},[e("section",{staticClass:"options"},[e("el-button",{attrs:{type:"primary"},on:{click:function(o){t.modelAddBlackShow=!0}}},[t._v("拉入黑名单")]),e("el-button",{attrs:{type:"primary"},on:{click:function(o){t.freezeAction(t.doctorDetail.status)}}},[t._v(t._s(3!==t.doctorDetail.status?"冻结":"解冻")+"用户")]),e("el-button",{attrs:{type:"primary"},on:{click:function(o){t.modelDepRankShow=!0}}},[t._v("科室排序权重调整")]),e("el-button",{attrs:{type:"primary"},on:{click:function(o){t.modelEditMsgShow=!0}}},[t._v("修改信息")])],1),e("section",{staticClass:"base-msg"},[e("div",{staticClass:"base-msg__doctor-person"},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:6}},[t._v("\n                    姓名："+t._s(t.doctorDetail.docName)+"\n                ")]),e("el-col",{attrs:{span:6}},[t._v("\n                    用户名："+t._s(t.doctorDetail.nickname)+"\n                ")]),e("el-col",{attrs:{span:12}},[t._v("\n                    手机号："+t._s(t.doctorDetail.phone)+"\n                ")])],1),e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:6}},[t._v("\n                    医院："+t._s(t.doctorDetail.hospitalName||"-")+"\n                ")]),e("el-col",{attrs:{span:6}},[t._v("\n                    科室："+t._s(t.doctorDetail.departmentName)+"\n                ")]),e("el-col",{attrs:{span:12}},[t._v("\n                    职称："+t._s(t.doctorDetail.positionalTitle)+"\n                ")])],1),e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[t._v("\n                    用户头像：\n                    "),t.doctorDetail.vice_avatar?e("img",{attrs:{src:t.doctorDetail.vice_avatar,height:"140",width:"140"}}):e("img",{attrs:{src:i("4ef7"),height:"140",width:"140"}})]),e("el-col",{attrs:{span:12}},[t._v("\n                    医生名片头像：\n                    "),e("img",{attrs:{src:t.doctorDetail.avatar,height:"140",width:"140"}})])],1)],1)]),e("el-row",{staticClass:"detail-section"},[e("el-col",{staticClass:"detail-section__title",attrs:{span:2}},[t._v("\n            社区数据\n        ")]),e("el-col",{attrs:{span:22}},[e("table",{staticClass:"data-table-show"},[e("tr",[e("th",[t._v("发帖量")]),e("th",[t._v("评论量")]),e("th",[t._v("回复量")]),e("th",[t._v("操作")])]),e("tr",[e("td",[t._v(t._s(t.doctorDetail.postingNum))]),e("td",[t._v(t._s(t.doctorDetail.commentNum))]),e("td",[t._v(t._s(t.doctorDetail.replyNum))]),e("td",[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.jumpToDynamicManage}},[t._v("查看")])],1)])])])],1),e("el-row",{staticClass:"detail-section"},[e("el-col",{staticClass:"detail-section__title",attrs:{span:2}},[t._v("\n            接诊数据\n        ")]),e("el-col",{attrs:{span:22}},[e("table",{staticClass:"data-table-show"},[e("tr",[e("th",[t._v("本月工作时长")]),e("th",[t._v("剩余工作时长")]),e("th",[t._v("当前评分")])]),e("tr",[e("td",[t._v(t._s(t.doctorDetail.workHour||0)+" h")]),e("td",[t._v(t._s(t.doctorDetail.surplusHour||0)+" h")]),e("td",[t._v(t._s(t.doctorDetail.evaluationScore))])])])])],1),e("section",{staticClass:"detail-section"},[e("el-row",[e("el-col",{staticClass:"detail-section__title",attrs:{span:2}},[t._v("\n                接诊记录\n            ")]),e("el-col",{attrs:{span:22}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.inquisitionList,border:"","show-header":!1,"max-height":300}},[e("el-table-column",{attrs:{prop:"content"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{staticClass:"doc-name-text",attrs:{size:"mini",type:"text"},on:{click:function(i){t.showContentDetail(o.row.inquisitionId)}}},[t._v("\n                                "+t._s(o.row.content||"--")+"\n                            ")])]}}])}),e("el-table-column",{attrs:{prop:"createTime"}}),e("el-table-column",{attrs:{prop:"score"},scopedSlots:t._u([{key:"default",fn:function(o){return[t._v("\n                            "+t._s(null===o.row.score?"暂无评分":o.row.score)+"\n                        ")]}}])}),e("el-table-column",{attrs:{prop:"abnormal"}})],1)],1)],1)],1),e("el-dialog",{attrs:{title:"问诊详情","append-to-body":!0,visible:t.modelInquisitionShow,height:"100%",width:"70%"},on:{"update:visible":function(o){t.modelInquisitionShow=o}}},[t.modelInquisitionShow?e("inquisition-detail",{attrs:{"doctor-detail":t.doctorDetail,"inquisition-id":t.inquisitionId},on:{"finish-action":t.finishOptions}}):t._e()],1),e("el-dialog",{attrs:{title:"加入黑名单","append-to-body":!0,visible:t.modelAddBlackShow,width:"500px"},on:{"update:visible":function(o){t.modelAddBlackShow=o}}},[t.modelAddBlackShow?e("black-list-add-form",{attrs:{"model-close":t.modelAddBlackShow,"doctor-id":t.doctorId},on:{"close-form":function(o){t.modelAddBlackShow=!1},"finish-action":t.finishOptions}}):t._e()],1),e("el-dialog",{attrs:{title:"冻结用户","append-to-body":!0,visible:t.modelFrozenShow,width:"500px"},on:{"update:visible":function(o){t.modelFrozenShow=o}}},[e("frozen-form",{attrs:{"model-close":t.modelFrozenShow,"doctor-id":t.doctorId},on:{"close-form":function(o){t.modelFrozenShow=!1},"finish-action":t.finishOptions}})],1),e("el-dialog",{attrs:{title:"科室排序权重调整","append-to-body":!0,visible:t.modelDepRankShow,width:"500px"},on:{"update:visible":function(o){t.modelDepRankShow=o}}},[e("dep-rank-form",{attrs:{"doctor-id":t.doctorId,"dep-rank":t.doctorDetail.doctorDepRank,"model-status":t.modelDepRankShow},on:{"close-form":function(o){t.modelDepRankShow=!1},"finish-action":t.finishOptions}})],1),e("el-dialog",{attrs:{title:"修改信息","append-to-body":!0,visible:t.modelEditMsgShow,width:"500px"},on:{"update:visible":function(o){t.modelEditMsgShow=o}}},[e("edit-msg-doc-form",{attrs:{"doctor-id":t.doctorId,"doctor-detail":t.doctorDetail,"model-status":t.modelEditMsgShow},on:{"close-form":function(o){t.modelEditMsgShow=!1},"finish-action":t.finishOptions}})],1)],1)},[],!1,null,"06c438ab",null);s.options.__file="DoctorDetail.vue";o.default=s.exports},"4ef7":function(t,o,i){t.exports=i.p+"img/doc_default_avatar.683033ef.jpg"},"705b":function(t,o,i){"use strict";var e=i("a528");i.n(e).a},a528:function(t,o,i){}}]);